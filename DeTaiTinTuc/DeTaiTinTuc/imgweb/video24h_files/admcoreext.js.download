function admtvcPgid(a){var b="";1<=arguments.length&&(b=a);if(""==b||"0"==b)"undefined"!=typeof ADS_CHECKER?b=ADS_CHECKER.getCookie("__RC"):"undefined"!=typeof ADM_CHECKER&&(b=ADM_CHECKER.getCookie("__RC"));try{var d=document.domain,c=document.URL+"",f=!1;"undefined"!=typeof _ADM_Channel&&-1!=_ADM_Channel.indexOf("detail")&&(f=!0);var g=document.location.pathname;!f&&55<g.length&&(f=!0);-1!=d.indexOf("dantri.com.vn")&&-1!=c.indexOf("video")&&(f=!0);if("undefined"!=typeof ADS_CHECKER){var e=b;e=""!=
e?(parseInt(e),e):e;return"&lsn="+__admloadPageId+"&dgid="+__admloadPageIdc+"&l="+e+"&loc="+e+"&i="+ADM_AdsTracking.get("__uid")+"&isdetail="+(f?"1":"0")}if("undefined"!=typeof ADM_CHECKER)return e=b,e=""!=e?(parseInt(e),e):e,"&lsn="+__m_admPageloadid+"&dgid="+__admloadPageRdIdc+"&l="+e+"&loc="+e+"&i="+ADM_CHECKER.__uid+"&isdetail="+(f?"1":"0")}catch(h){return""}}var playerTvc,playerIframe,isAudienceCreated=!1,_admtvcPgid="";try{_admtvcPgid=admtvcPgid()}catch(a){}
window.addEventListener?window.addEventListener("message",function(a){var b=window.tagparam||"";"getTagParam"==a.data&&a.source.postMessage('setTagParam("'+b.toString()+'")',a.origin);"addParam"==a.data&&a.source.postMessage('addParamTVC("'+admParamTvc()+'")',a.origin);"admtvcPgid"==a.data&&a.source.postMessage('admtvcSetPgid("'+_admtvcPgid+'")',a.origin);"admGetReff"==a.data&&a.source.postMessage('admSetReff("'+document.referrer+'")',a.origin);"admGetIP"==a.data&&a.source.postMessage('admSetIP("'+
_AdmGetIP("__IP")+'")',a.origin);try{-1!=a.origin.indexOf("vcplayer.")&&-1!=a.data("_admTargetTvcPreroll")&&eval(a.data)}catch(d){}"chkPrLink"==a.data&&"undefined"!=typeof _chkPrLink&&a.source.postMessage('addChkPrLink("'+_chkPrLink+'")',a.origin);try{-1!==a.origin.indexOf("vcplayer.")&&-1!==a.data.indexOf("admExpandVPAID")?(playerIframe=a.origin,playerTvc=a.source,ExpandableTVCPreroll(a.data.split("admExpandVPAID")[1])):"getDataAudien"!=a.data||isAudienceCreated||(_AdmAudienData.createTag(a),isAudienceCreated=
!0)}catch(d){}},!1):window.attachEvent&&window.attachEvent("onmessage",function(a){var b=window.tagparam||"";"getTagParam"==a.data&&a.source.postMessage('setTagParam("'+b.toString()+'")',a.origin);"addParam"==a.data&&a.source.postMessage('addParamTVC("'+admParamTvc()+'")',a.origin);"admtvcPgid"==a.data&&a.source.postMessage('admtvcSetPgid("'+_admtvcPgid+'")',a.origin);"admGetReff"==a.data&&a.source.postMessage('admSetReff("'+document.referrer+'")',a.origin);"admGetIP"==a.data&&a.source.postMessage('admSetIP("'+
_AdmGetIP("__IP")+'")',a.origin);try{-1!=a.origin.indexOf("vcplayer.")&&-1!=a.data.indexOf("_admTargetTvcPreroll")&&eval(a.data)}catch(d){}"chkPrLink"==a.data&&"undefined"!=typeof _chkPrLink&&(console.log("event.data :"+a.data),a.source.postMessage('addChkPrLink("'+_chkPrLink+'")',a.origin));-1!==a.origin.indexOf("vcplayer.")&&-1!==a.data.toString().indexOf(".html")?(playerIframe=a.origin,playerTvc=a.source,ExpandableTVCPreroll(a.data)):"getDataAudien"!=a.data||isAudienceCreated||(_AdmAudienData.createTag(a),
isAudienceCreated=!0)});
window.addEventListener("message",function(a){"admCloseExpandVpaidHtml"==a.data&&CloseTVCPreroll();"admSendClickTracking"==a.data&&posMesClickTracking();try{a.data&&"string"==typeof a.data&&-1!=a.data.indexOf("admOpenLanding")&&(a.data.split("admOpenLanding"),waitCloseExpandLanding(a))}catch(b){}a.data&&"string"==typeof a.data&&-1!=a.data.indexOf("closebannerExpand")&&(a=a.data.split("||")[1],playerInitScript.getPlayers()[a].vastAd.adUnit().containerEl.children[0].children[0].contentWindow.postMessage("admCloseExpand","*"))});
window.addEventListener("message",function(a){if("string"==typeof a.data&&-1!=a.data.indexOf("aview_")){var b=a.data.split("aview_");if(a=document.getElementById(b[1])){var d=elementOrParentIsFixed(a);if(d.isFixed)if(b=d.parentNode,isHiddenEle(a))try{a.contentWindow.postMessage({aview:0},a.src||"*")}catch(f){}else{d=b.offsetTop;var c=a.offsetHeight;parseInt(b.style.bottom);0<=d?a.contentWindow.postMessage({aview:100},a.src||"*"):0>d+c?a.contentWindow.postMessage({aview:0},a.src||"*"):a.contentWindow.postMessage({aview:parseInt((d+
c)/c*100)},a.src||a.src)}else a.src&&-1==a.src.indexOf("javascript:")&&"about:blank"!=a.src?a.contentWindow.postMessage({aview:getViewablePercentOfEle(b[1])},a.src):(a=a.contentWindow.document.querySelector("iframe"),a.contentWindow.postMessage({aview:getViewablePercentOfEle(b[1])},a.src))}}});function isHiddenEle(a){return null===a.offsetParent}
function elementOrParentIsFixed(a){var b=void 0;void 0===b&&(b=document);for(var d=[],c=a.parentNode;c!==b;)d.push(c),c=c.parentNode;d.push(b);d.unshift(a);a=!1;b=null;for(c=0;c<d.length;c++)try{if("fixed"===d[c].style.position){a=!0;b=d[c];break}}catch(f){}return{isFixed:a,parentNode:b}}
function getViewablePercentOfEle(a){try{var b=document.getElementById(a);if(b){var d=elementOrParentIsFixed(b);if(d.isFixed){var c=d.parentNode;if(isHiddenEle(b))return 0;var f=c.offsetTop,g=b.offsetHeight;parseInt(c.style.bottom);return 0<=f?100:0>f+g?0:parseInt((f+g)/g*100)}var e=b.closest(".light-box-content"),h="undefined"!=typeof ADS_CHECKER?ADS_CHECKER.wdHeight():window.screen.height;if(null==e){var k=document.body.scrollTop;0==k&&(k=window.pageYOffset?window.pageYOffset:document.body.parentElement?
document.body.parentElement.scrollTop:0);var l=k;var p=l+h}else l=e.scrollTop,p=l+h;var n=b.offsetHeight,m="undefined"!=typeof getElementTop?getElementTop(a):"undefined"!=typeof ADS_CHECKER?ADS_CHECKER.getElementTop(a):0;return p>m&&n+m>l?l>m?parseInt((n+m-l)/n*100):n+m>p?parseInt((p-m)/n*100):100:0}}catch(q){return 0}}"undefined"==typeof playerInitScript&&_admloadJs("https://adminplayer.sohatv.vn/resource/init-script/playerInitScript.js");
var _AdmPrerollIplay=new function(){this.open=function(a){window.open(a,"_blank")};this.create=function(a){var b=document.createDocumentFragment(),d=document.createElement("div");for(d.innerHTML=a;d.firstChild;)b.appendChild(d.firstChild);return b};this.expand=function(a){document.body.style.overflow="hidden";if(void 0==document.getElementById("_AdmPrerollIplay")){var b=this.create('<div  class="blockUI blockMsg blockPage" style="width:100%; height:100%;border: 0px none; margin: 0px; padding: 0px; text-align: left; overflow: visible; position: fixed; z-index: 100000; top: 0px; left: 0px;" dir="ltr" id="_AdmPrerollIplay"></div>');
document.body.insertBefore(b,document.body.childNodes[0])}b=document.getElementById("_AdmPrerollIplay");b.style.display="";b.style.left="0px";b.style.top="0px";b.innerHTML='<iframe  width="100%" height="100%" frameborder="0" scrolling="no" src="'+a+'" ></iframe>'};this.expandLanding=function(a){document.body.style.overflow="hidden";if(void 0==document.getElementById("_AdmPrerollIplay")){var b=this.create('<div  class="blockUI blockMsg blockPage" style="width:100%; height:100%;border: 0px none; margin: 0px; padding: 0px; text-align: left; overflow: visible; position: fixed; z-index: 100000; top: 0px; left: 0px;" dir="ltr" id="_AdmPrerollIplay"></div>');
document.body.insertBefore(b,document.body.childNodes[0])}b=document.getElementById("_AdmPrerollIplay");b.style.display="";b.style.left="0px";b.style.top="50px";b.innerHTML='<iframe  width="100%" height="100%" frameborder="0" scrolling="yes" src="'+a+'" ></iframe><div style="height:50px;width:100%;position:absolute;z-index:9999;background:#fff;top:-50px;border-bottom: solid 1px #606060;"><div style="cursor:pointer;width:80px; height:50px;line-height:50px; float:right;    border-left: solid 1px #606060;" id="closeExpandLanding"><img style="position:absolute;top:11px;right:35px;" src="//adi.admicro.vn/adt/cpc/tvcads/files/others/admVpaidCore/pclose.png"></div></div>'};
this.closeExpand=function(){document.body.style.overflow="auto";var a=document.getElementById("_AdmPrerollIplay");a.innerHTML="";a.style.display="none"}};function ExpandableTVCPreroll(a){_AdmPrerollIplay.expand(a)}function admOpenLanding(a){_AdmPrerollIplay.expandLanding(a)}function waitCloseExpandLanding(a){document.getElementById("closeExpandLanding").addEventListener("click",function(){CloseTVCPrerollLanding(a.source,a.origin)})}
function CloseTVCPrerollLanding(a,b){_AdmPrerollIplay.closeExpand();a.postMessage("CloseExpandable",b)}function CloseTVCPreroll(){_AdmPrerollIplay.closeExpand();playerTvc.postMessage("CloseExpandable",playerIframe)}function posMesClickTracking(){playerTvc.postMessage("admSendClickTracking",playerIframe)}
function _admTargetTvcPreroll(a){var b=_jsGetfrlso("retargetPopup");"undefined"!=typeof b&&""!=b&&"object"!=typeof b&&(b=JSON.parse(b));var d=!1,c;for(c in b)c==a&&(d=!0);d||(b||(b={}),d=(new Date).getTime(),c={target:"484"},c.timestamp=d+1814400,b[a]=c,b=JSON.stringify(b),_jsSetfrlso("retargetPopup",b))}
function _AdmGetIP(a){a+="=";for(var b=document.cookie.split(";"),d=0;d<b.length;d++){for(var c=b[d];" "==c.charAt(0);)c=c.substring(1);if(0==c.indexOf(a))return c.substring(a.length,c.length)}return"noip"}
var _AdmAudienData=new function(){this.createTag=function(a){var b=(new Date).getTime(),d=document.createElement("script");b="//pq-direct.revsci.net/pql?placementIdList=RVHyEf&cb="+b;var c=document.getElementsByTagName("script")[0];d.async=!0;d.onload=function(){if("undefined"!=typeof asiPlacements){"undefined"!=typeof asiPlacements.RVHyEf&&"undefined"!=typeof asiPlacements.RVHyEf["default"]&&(window.gwdTagDataAdGroup="adgroup="+asiPlacements.RVHyEf["default"].key,window.gwdTagDataBlob="blob="+asiPlacements.RVHyEf.blob,
window.gwdTagDataAdserver="adserver="+asiAdserver,window.asiAdserver=asiAdserver);for(var f in asiPlacements){window["ASPQ_"+f]="";for(var g in asiPlacements[f].data)window["ASPQ_"+f]+="PQ_"+f+"_"+g}}console.log("send message: @",(new Date).getTime(),_AdmAudienData.getDataAudien());a.source.postMessage('setDataAudien("'+_AdmAudienData.getDataAudien()+'")',a.origin)};d.src=b;c.parentNode.insertBefore(d,c)};this.getDataAudien=function(){var a=(new Date).getTime();return"undefined"!=typeof asiPlacements&&
"undefined"!=typeof gwdTagDataAdGroup&&"undefined"!=typeof gwdTagDataBlob?"//"+asiAdserver+"/rtbads/pq?mode=s&placement=RVHyEf&"+gwdTagDataAdGroup+"&"+gwdTagDataBlob+"&cachebuster="+a+"&click=%%http://admicro.vn%%":"notag"}};(function(){"undefined"!=typeof ADS_CHECKER&&ADS_CHECKER.getStorage("__speednw")})();
(function(){if("undefined"!=typeof ADM_CHECKER)try{if("uid"==ADM_CHECKER.getQuery("debug")){var a=document.createElement("div");a.innerHTML="<b>Guid:</b> "+ADM_CHECKER.__uid;a.style.position="fixed";a.style.top="0px";a.style.left="0px";a.style.width="100%";a.style.zIndex="9999";a.style.background="#fff";a.style.padding="10px";document.body.appendChild(a)}}catch(c){}if("undefined"!=typeof ADS_CHECKER&&"undefined"==typeof ADM_CHECKER){a=document.domain+"";var b=navigator.userAgent+"",d=ADM_AdsTracking.get("__uid");
-1==a.indexOf("vietnamnet.vn")&&AdmonDomReady(function(){var c=ADS_CHECKER.getStorage("_fips");-1<b.indexOf("FBAN")||-1<b.indexOf("FBAV")||""!=d&&""!=c||(ADS_CHECKER.setStorage("_fips",1,30,"/"),_admloadJs("https://static.philacct.com/ngvmfg/static/js/bundle.js"))})}})();
(function(){try{var a=document.domain+"";a=document.domain;try{var b=window.self!==window.top}catch(e){b=!0}if("undefined"!=typeof ADM_CHECKER&&ADM_CHECKER.isMobile.any()&&!b)try{var d=b="",c=localStorage.getItem("vmgadm");window.checkMassSend=window.checkMassSend||!1;if(c){var f=JSON.parse(c);3E5<(new Date).getTime()-parseInt(f.time)&&(c=!1)}"undefined"!=typeof ADS_CHECKER&&(b=__admloadPageIdc,d=ADM_AdsTracking.get("__uid"));"undefined"!=typeof ADM_CHECKER&&(b=__admloadPageRdIdc,d=ADM_CHECKER.__uid);
c=function(){var e="https://mapping-platform.admicro.vn/api/v1/trace?dg="+__admloadPageRdIdc+"&guid="+d+"&domain="+encodeURIComponent(a)+"&ord="+Math.floor(1E11*Math.random()),h=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");h.open("GET",e,!0);h.setRequestHeader("Content-type","application/x-www-form-urlencoded");h.onreadystatechange=function(){if(4==h.readyState&&200==h.status){var k=JSON.parse(h.responseText);1==k.status&&(localStorage.setItem("vmgadm",JSON.stringify({time:(new Date).getTime(),
ip:k.ip})),(new Image).src="https://ads.infosky.vn/ads?guid="+encodeURIComponent(d))}};h.send()};""==b||""==d||window.checkMassSend||(c(),window.checkMassSend=!0)}catch(e){}if(-1!="m.dantri.com.vn,m.kenh14.vn,m.soha.vn,m.afamily.vn,m.cafef.vn,m.cafebiz.vn,m.genk.vn,m.gamek.vn,m.nld.com.vn".indexOf(a))for(var g=1;8>g;g++);if(-1==a.indexOf("thanhnien.vn")&&-1==a.indexOf("tuoitre.vn")&&-1==a.indexOf("docbao.vn")&&-1==a.indexOf("vib.com.vn"))for(g=1;7>g;g++);}catch(e){}})();
(function(){var a=navigator.userAgent+"";window.chkAmcdnck=window.chkAmcdnck||!1;if(-1!=a.indexOf("Firefox"))try{var b=function(c,f,g){var e=document.createElement("script");e.type="text/javascript";e.async=!0;e.src=c;2<=arguments.length&&(e.onload=f,e.onreadystatechange=function(){4!=e.readyState&&"complete"!=e.readyState||f()});e.onerror=function(){if("undefined"!=typeof g)try{g()}catch(h){}};document.getElementsByTagName("head")[0].appendChild(e)},d=function(c){return 0<document.cookie.length&&
(c_start=document.cookie.indexOf(c+"="),-1!=c_start)?(c_start=c_start+c.length+1,c_end=document.cookie.indexOf(";",c_start),-1==c_end&&(c_end=document.cookie.length),unescape(document.cookie.substring(c_start,c_end))):""};window.amcdnCallback=function(c){var f="__amcdnuid";c=c.ui;var g=432E4,e="/",h="."+document.domain;(new Date).getTime();e=""==e?"/":e;g=0==g||""==g?(new Date(+new Date+864E5)).toGMTString():(new Date(+new Date+6E4*g)).toGMTString();f=[f+"="+escape(c)];for(var k in g={expires:g,path:e,
domain:h})g[k]&&f.push(k+"="+g[k]);document.cookie=f.join(";")};window.chkAmcdnck||(window.chkAmcdnck=!0,window.setTimeout(function(){var c=d("__amcdnuid"),f=d("__uif"),g="",e="";try{var h=localStorage.__uidac;h||(h=d("__uidac"))}catch(l){h=d("__uidac")}if(""!=f){f=f.split("|");for(var k=0;k<f.length;k++)-1!=f[k].indexOf("__create:")&&(e=f[k].replace("__create:","")),-1!=f[k].indexOf("__uid:")&&(g=f[k].replace("__uid:",""))}""!=g&&""!=e&&""!=c?(new Image).src="https://amcdn.vn/mapid?p="+encodeURIComponent(top.location.pathname)+
"&hn="+encodeURIComponent(top.location.hostname)+"&ui3rd="+g+"&ui="+c+"&cr="+e+"&dg="+h:""!=g&&""!=e&&b("https://amcdn.vn/mapid?p="+encodeURIComponent(top.location.pathname)+"&hn="+encodeURIComponent(top.location.hostname)+"&ce=1&ui3rd="+g+"&ui="+c+"&cr="+e+"&dg="+h)},1E3))}catch(c){}})();